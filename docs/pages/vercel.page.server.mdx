import { Link, Note } from '@brillout/docpress'

[Vercel](https://vercel.com) is a frontend platform with support for 35+ frameworks, including Vite. We recommend using `vite-plugin-ssr` in combination with [vite-plugin-vercel](#vite-plugin-vercel) to enable support for all Vercel features, including Server-Side Rendering (SSR), Incremental Static Regeneration (ISR), Edge Middleware, and more.

## vite-plugin-vercel

[`vite-plugin-vercel`](https://github.com/magne4000/vite-plugin-vercel) enables zero-configuration support for all Vercel features, including [Incremental Static Regeneration](https://vercel.com/docs/concepts/incremental-static-regeneration/overview).

If we <Link text="pre-render our pages only partially" href="/prerender-config#partial" />, we can also use `vite-plugin-vercel` to statically deploy our pre-rendered pages while dynamically serving our non-prerendered pages.

Under the hood, `vite-plugin-vercel` uses Vercel's [Build Output API](https://vercel.com/docs/build-output-api/v3).

> See `vite-plugin-ssr` + `vite-plugin-vercel` installation instructions at [`vite-plugin-vercel` > Usage with vite-plugin-ssr](https://github.com/magne4000/vite-plugin-vercel#usage-with-vite-plugin-ssr).

## Data APIs (GraphQL, RESTful, RPC)

Vercel API Routes only work on Vercel's platform; we cannot run them locally.

This means that we need to integrate our data layer twice:
 1. Using Vercel's API Routes, for Vercel deployment.
 1. Using a local server (e.g. Express.js), for development.

This is usally easy to achieve as most data layer tools integrate using a single HTTP endpoint. For example:
 - [GraphQL](https://graphql.org/) integrates over a single HTTP endpoint `/graphql`.
 - [Telefunc](https://telefunc.com/) integrates over a single HTTP endpoint `/_telefunc`.

In other words, we add a data layer by:
 - Creating a new Vercel API Route, integrating that single endpoint.
 - Creating a new route to our local development server (e.g. Express.js), integrating that single endpoint.

> When using SSR, we recommend using [RPC instead of GraphQL](https://telefunc.com/RPC-vs-GraphQL-REST), which most of time leads to a drastic simplification and increased development speed.

## Incremental Static Regeneration (ISR)

We can use Vercel's [Incremental Static Regeneration (ISR)](https://vercel.com/docs/concepts/incremental-static-regeneration/overview) by using [vite-plugin-vercel](https://github.com/magne4000/vite-plugin-vercel), see [above](#vite-plugin-vercel).
