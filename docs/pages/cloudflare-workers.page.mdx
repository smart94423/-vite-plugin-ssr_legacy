import { RepoLink } from 'libframe-docs/components/RepoLink'

## Examples

 - React: <RepoLink path='/examples/cloudflare-workers/' />
 - Vue + HTML streaming: <RepoLink path='/examples/cloudflare-workers-vue-html-streaming/' />

## `importBuild.js`

We need to load `dist/server/importBuild.js` in our worker code. Example: <RepoLink path='/examples/cloudflare-workers/worker/ssr.js' />.

> Cloudflare Workers needs our entire worker code to be bundled into a single file, which [`dist/server/importBuild.js` enables us to do](/importBuild.js).

## Dev Server

We recommend using Vite with an Express.js dev server for lightning fast HMR & dev start,
and for production to bundle the worker code with Cloudflare Workers's webpack bundler.
See examples.

## Universal `fetch()`

When using Node.js for dev and Cloudflare Workers for production, we then may need a `fetch()` function that works in both environments.

But libraries such as `node-fetch` or `cross-fetch` usually don't work with Cloudflare Workers.

What we can do is to define a `pageContext.fetch` which works in both environments.
The trick is to add `fetch()` to `pageContextInit` at [`renderPage(pageContextInit)`](createPageRenderer) of both the Node.js dev server and the worker.

Example:
 - <RepoLink path='/examples/cloudflare-workers#universal-fetch' />
