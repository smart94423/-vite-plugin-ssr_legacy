import { RepoLink } from 'libframe-docs/components/RepoLink'
import { ImportMeta } from 'libframe-docs/components/ImportMeta'

> **What is the Base URL?** Changing the Base URL (aka Public Base Path) is about changing the URL root of our app.
> For example, instead of deploying our app to `https://example.org/*` (i.e. `base: '/'`), we can set `base: '/some/base/url/'` and deploy our app to `https://example.org/some/base/url/*`.

To change the Base URL we:

1. Add the `base` config to [`vite.config.js#base`](https://vitejs.dev/config/#base) and `createPageRenderer({ base })`. Example: <RepoLink path='/examples/base-url/vite.config.js' /> and <RepoLink path='/examples/base-url/server/index.js' />.

2. Use the <ImportMeta prop='env.BASE_URL' /> value [injected by Vite](https://vitejs.dev/guide/build.html#public-base-path) to construct a `<Link>` component that prepends the Base URL. Example: <RepoLink path='/examples/base-url/component/Link.jsx' />.

3. Also use <ImportMeta prop='env.BASE_URL' /> when referencing Static Assets. Example: <RepoLink path='/examples/base-url/render/_default.page.server.jsx' />.

Example:
 - <RepoLink path='/examples/base-url/' />

We can set `base` to `'https://another-origin.example.org/'` (for cross-origin deployments) or to `'./'` (for embedded deployments at multiple paths).

See also:
 - [Vite Docs - Public Base Path](https://vitejs.dev/guide/build.html#public-base-path)
